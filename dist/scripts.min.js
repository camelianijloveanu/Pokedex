let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",n=document.querySelector("#modal-container"),o=document.querySelector(".loadingImage");function i(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("pokemon not found")}function a(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.type=t.types[0].type.name}).catch(function(e){console.error(e)})}function s(e){a(e).then(function(){!function(e){document.getElementById("modalTitle").innerText=e.name;let t=document.getElementById("exampleModalCenterText1");t.innerText="Height: "+e.height,t.classList.add("modal-body");let n=document.getElementById("exampleModalCenterText2");n.innerText="Type: "+e.type,n.classList.add("modal-body");let o=document.getElementById("exampleModalCenterText3");o.src=e.imageUrl,o.classList.add("pokemonImage")}(e)})}function l(){o.classList.add("showImg")}function r(){o.classList.remove("showImg")}function c(){n.classList.remove("is-visible")}return window.addEventListener("keydown",e=>{let t=document.querySelector("#modal-container");"Escape"===e.key&&t.classList.contains("is-visible")&&c()}),n.addEventListener("click",e=>{e.target===n&&c()}),{add:i,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.addEventListener("click",function(){s(e)}),o.classList.add("button-class"),o.classList.add("btn","btn-danger"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#modal-container"),n.appendChild(o),t.appendChild(n)},loadList:function(){return l(),fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).then(function(){r()}).catch(function(e){console.error(e)})},loadDetails:a,showDetails:s,showLoadingMessage:l,hideLoadingMessage:r,hideModal:c}}();pokemonRepository.loadList().then(function(){pokemonRepository.showLoadingMessage(),setTimeout(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.hideLoadingMessage()},1e3)});let searchPokemonList=document.querySelector(".pokemon.list");searchPokemonList=document.querySelector(".pokemon-list");let searchBar=document.forms.filter.querySelector("input");function addPokemon(){let e=document.getElementById("newPokemon").value;if(!e)return alert("Please write something");let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e,o.addEventListener("click",function(){!function(){let t=e;console.log(t)}()}),o.classList.add("button-class"),o.classList.add("btn","btn-primary"),n.appendChild(o),t.insertBefore(n,t.firstChild)}searchBar.addEventListener("keyup",function(e){let t=e.target.value.toLowerCase(),n=searchPokemonList.getElementsByTagName("li");Array.from(n).forEach(function(e){-1!=e.firstElementChild.textContent.toLowerCase().indexOf(t)?e.style.display="block":e.style.display="none"})}),addPokemon();